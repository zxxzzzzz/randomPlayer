(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,n,t){e.exports=t("2f39")},"2f39":function(e,n,t){"use strict";t.r(n);var r=t("967e"),a=t.n(r),o=(t("a481"),t("96cf"),t("fa84")),u=t.n(o),i=(t("7d6e"),t("e54f"),t("985d"),t("31cd"),t("2b0e")),c=t("b05d");i["a"].use(c["a"],{config:{}});var s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},f=[],p={name:"App"},l=p,d=t("2877"),h=Object(d["a"])(l,s,f,!1,null,null,null),m=h.exports,v=t("2f62"),w=(t("551c"),t("ac6a"),t("cadf"),t("06db"),t("5df3"),t("7f7f"),t("bc3a")),b=t.n(w),S=b.a.create({baseURL:"/api",timeout:1e4,withCredentials:!0});S.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var k=S;function x(){var e=1e4*Math.random()%1e4;return k.get("/personal_fm",{params:{hash:e}})}function g(e){return new Promise((function(n){k.get("/like",{params:{id:e}}).then((function(e){n(e)}))}))}function T(e){return new Promise((function(n){k.get("/song/url",{params:{id:e}}).then((function(e){n(e.data[0].url)}))}))}function _(e){return new Promise((function(n){k.get("/likelist",{params:{uid:e}}).then((function(e){n(e.ids)}))}))}var E={FMOriginTracks:[],FMTracks:[],favoriteSongIds:[]},F={SET_FM_ORIGIN_TRACKS:function(e,n){e.FMOriginTracks=n},SET_FM_TRACKS:function(e,n){e.FMTracks=n},SET_LIKE:function(e,n){e.FMTracks.forEach((function(t){t.id===n&&(t.favorited=!0,e.favoriteSongIds.push(n))}))},SET_FAVORITE_SONGS:function(e,n){e.favoriteSongIds=n}},M={setFM:function(){var e=u()(a.a.mark((function e(n){var t,r,o,i,c,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.dispatch,r=n.state,o=n.commit,e.next=3,t("setFavoriteSongs");case 3:return e.next=5,x();case 5:return i=e.sent,o("SET_FM_ORIGIN_TRACKS",i.data),c=r.FMOriginTracks.map(function(){var e=u()(a.a.mark((function e(n){var t,o,u,i,c,s,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.name,o=n.artists[0].name,u=n.album.picUrl,i=n.id,e.next=6,T(i);case 6:return c=e.sent,s="",f=i in r.favoriteSongIds,e.abrupt("return",{name:t,artist:o,cover:u,source:c,url:s,id:i,favorited:f});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:s=e.sent,o("SET_FM_TRACKS",s);case 12:case"end":return e.stop()}}),e)})));function n(n){return e.apply(this,arguments)}return n}(),like:function(){var e=u()(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.commit,e.next=3,g(t);case 3:r("SET_LIKE",t);case 4:case"end":return e.stop()}}),e)})));function n(n,t){return e.apply(this,arguments)}return n}(),setFavoriteSongs:function(){var e=u()(a.a.mark((function e(n){var t,r,o,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.commit,r=n.rootGetters,o=r.uid,e.next=4,_(o);case 4:u=e.sent,t("SET_FAVORITE_SONGS",u);case 6:case"end":return e.stop()}}),e)})));function n(n){return e.apply(this,arguments)}return n}()},I={tracks:function(e){return e.FMTracks}},y={namespaced:!0,mutations:F,actions:M,getters:I,state:E};function R(e,n){return k.get("/login/cellphone",{params:{phone:e,password:n}})}var O={info:{}},A={SET_USER:function(e,n){e.info=n}},P={login:function(){var e=u()(a.a.mark((function e(n,t){var r,o,u,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.commit,o=t.phone,u=t.password,e.next=4,R(o,u);case 4:i=e.sent,r("SET_USER",i);case 6:case"end":return e.stop()}}),e)})));function n(n,t){return e.apply(this,arguments)}return n}()},U={namespaced:!0,mutations:A,actions:P,state:O},C={uid:function(e){return e.User.info?e.User.info.account.id:null}};i["a"].use(v["a"]);var K=new v["a"].Store({modules:{FM:y,User:U},getters:C,strict:!1}),G=K,V=t("8c4f"),L=[{path:"/",component:function(){return Promise.all([t.e("48e85e01"),t.e("2d22c0ff")]).then(t.bind(null,"f241"))},children:[{path:"",component:function(){return Promise.all([t.e("48e85e01"),t.e("781e6505")]).then(t.bind(null,"8b24"))}}]}];L.push({path:"*",component:function(){return Promise.all([t.e("48e85e01"),t.e("4b47640d")]).then(t.bind(null,"e51e"))}});var N=L;i["a"].use(V["a"]);var j=function(){var e=new V["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:N,mode:"hash",base:""});return e},q=function(){var e="function"===typeof G?G({Vue:i["a"]}):G,n="function"===typeof j?j({Vue:i["a"],store:e}):j;e.$router=n;var t={el:"#q-app",router:n,store:e,render:function(e){return e(m)}};return{app:t,store:e,router:n}},J=t("a925"),$={failed:"Action failed",success:"Action was successful"},B={"en-us":$};i["a"].use(J["a"]);var Q=new J["a"]({locale:"en-us",fallbackLocale:"en-us",messages:B}),z=function(e){var n=e.app;n.i18n=Q},D=q(),H=D.app,W=D.store,X=D.router;function Y(){return Z.apply(this,arguments)}function Z(){return Z=u()(a.a.mark((function e(){var n,t,r,o,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!0,t=function(e){n=!1,window.location.href=e},r=window.location.href.replace(window.location.origin,""),o=[z,k],u=0;case 5:if(!(!0===n&&u<o.length)){e.next=23;break}if("function"===typeof o[u]){e.next=8;break}return e.abrupt("continue",20);case 8:return e.prev=8,e.next=11,o[u]({app:H,router:X,store:W,Vue:i["a"],ssrContext:null,redirect:t,urlPath:r});case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](8),!e.t0||!e.t0.url){e.next=18;break}return window.location.href=e.t0.url,e.abrupt("return");case 18:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 20:u++,e.next=5;break;case 23:if(!1!==n){e.next=25;break}return e.abrupt("return");case 25:new i["a"](H);case 26:case"end":return e.stop()}}),e,null,[[8,13]])}))),Z.apply(this,arguments)}Y()},"31cd":function(e,n,t){}},[[0,"runtime","vendor"]]]);